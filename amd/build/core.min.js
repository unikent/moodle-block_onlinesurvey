define(["jquery","core/ajax","core/notification"],function(a,b,c){return{init:function(){if(!(a("#onlinesurvey-text").length<=0)){a("#onlinesurvey-text").text("Requesting surveys...");var d=b.call([{methodname:"blocks_onlinesurvey_get_surveys"}]);d[0].done(function(b,c){return b.error?void a("#onlinesurvey-text").setHTML("Unable to obtain surveys.."):(a("#onlinesurvey-text").setHTML(b.text),void(""!==b.footer?a("#onlinesurvey-footer").setHTML(b.footer):a("#onlinesurvey-footer").get("parentNode").remove()))}),d[0].fail(c.exception)}}}});